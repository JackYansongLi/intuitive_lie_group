<TMU|<tuple|1.1.0|2025.2.3>>

<style|<tuple|generic|number-europe|preview-ref|smart-ref|comment|physics|llm>>

<\body>
  <\hide-preamble>
    <\new-remark|idef>
      Informal Definition
    </new-remark>

    <assign|braket|<macro|var1|var2|<around*|\<langle\>|<arg|var1>\|<arg|var2>|\<rangle\>>>>

    <assign|lieso|<macro|\<frak-s\>\<frak-o\>>>
  </hide-preamble>

  \;

  <doc-data|<\doc-title>
    From Determinant to Lie Group Control in Robotics
  </doc-title>|<doc-author|<author-data|<author-name|Yansong Li \ \ Qicheng Gao>|<\author-affiliation>
    \ \ \ \ \ \ \ LiiiSTEM \ \ \ \ Peking University
  </author-affiliation>>>>

  <section|The geometric interpretation of the determinant>

  <\folded-comment|+1qB1e5Qj486wk0F|+1qB1e5Qj486wk0G|comment|gao|1768269609|>
    \ I'm unsure if the proof using the cross product here might involve circular reasoning. \ 
  </folded-comment>

  <\proposition>
    for a 2\<times\>2 matrix <math|A>, the absolute value of its determinant equals the area of the parallelogram spanned by the transformed basis vectors.\ 
  </proposition>

  Our proof is based on the two-dimensional case,but the proof generalizes to higher dimensions, where the determinant corresponds to the signed volume of the parallelepiped spanned by the column vectors.\ 

  <\proof>
    Let <math|A> be a 2\<times\>2 matrix:\ 

    <\equation*>
      A=<matrix|<tformat|<table|<row|<cell|a>|<cell|c>>|<row|<cell|b>|<cell|d>>>>>
    </equation*>

    Its column vectors are:\ 

    <\equation*>
      <math-bf|v><rsub|1>=<matrix|<tformat|<table|<row|<cell|a>>|<row|<cell|b>>>>>,<space|1em><math-bf|v><rsub|2>=<matrix|<tformat|<table|<row|<cell|c>>|<row|<cell|d>>>>>
    </equation*>

    The determinant of <math|A> is:\ 

    <\equation*>
      det <around|(|A|)>=a*d-b*c
    </equation*>

    Consider the standard basis vectors <math|<math-bf|e><rsub|1>=<around|(|1,0|)>> and <math|<math-bf|e><rsub|2>=<around|(|0,1|)>>. Under the linear transformation represented by <math|A>, these vectors map to:\ 

    <\equation*>
      A<math-bf|e><rsub|1>=<math-bf|v><rsub|1>,<space|1em>A<math-bf|e><rsub|2>=<math-bf|v><rsub|2>
    </equation*>

    The area of a parallelogram spanned by vectors <math|<math-bf|v><rsub|1>> and <math|<math-bf|v><rsub|2>> in <math|\<bbb-R\><rsup|2>> is given by:\ 

    <\equation*>
      <text|Area>=<around|\<\|\|\>|<math-bf|v><rsub|1>|\<\|\|\>><around|\<\|\|\>|<math-bf|v><rsub|2>|\<\|\|\>><around|\||sin \<theta\>|\|>
    </equation*>

    where <math|\<theta\>> is the angle between <math|<math-bf|v><rsub|1>> and <math|<math-bf|v><rsub|2>>.

    Using the cross product magnitude in 2D and the formula for the magnitude of the cross product:\ 

    <\equation*>
      <around|\||det <around|(|A|)>|\|>=<around|\||a*d-b*c|\|>=<around|\<\|\|\>|<math-bf|v><rsub|1>\<times\><math-bf|v><rsub|2>|\<\|\|\>>=<around|\<\|\|\>|<math-bf|v><rsub|1>|\<\|\|\>><around|\<\|\|\>|<math-bf|v><rsub|2>|\<\|\|\>><around|\||sin \<theta\>|\|>
    </equation*>
  </proof>

  \;

  For an <math|n\<times\>n> matrix <math|A>, the columns represent the transformed basis vectors. The determinant gives the signed <math|n>-dimensional volume of the parallelepiped spanned by these column vectors. This follows from:\ 

  <\itemize>
    <item>The determinant is multilinear and alternating in the column vectors.

    <item>It equals 1 for the identity matrix (unit volume).

    <item>It scales exactly as volume under scaling of vectors.

    <item>The property <math|det <around|(|A*B|)>=det <around|(|A|)>*det <around|(|B|)>> corresponds to the multiplicative property of volume scaling under composition of linear transformations.
  </itemize>

  \;

  \;

  <\example>
    <math|A=I=<matrix|<tformat|<table|<row|<cell|1>|<cell|0>>|<row|<cell|0>|<cell|1>>>>>>. <math|det<around*|(|A|)>=1>.
  </example>

  <\example>
    <math|A=<matrix|<tformat|<table|<row|<cell|3>|<cell|4>>|<row|<cell|2>|<cell|1>>>>>>. <math|det<around*|(|A|)>=-2>

    <big-figure|<with|gr-mode|<tuple|edit|cline>|gr-frame|<tuple|scale|1cm|<tuple|0.5gw|0.5gh>>|gr-geometry|<tuple|geometry|1par|0.6par>|gr-grid|<tuple|empty>|gr-edit-grid-aspect|<tuple|<tuple|axes|none>|<tuple|1|none>|<tuple|10|none>>|gr-edit-grid|<tuple|empty>|gr-color|blue|gr-arrow-end|\<gtr\>|gr-fill-color|cyan|gr-grid-old|<tuple|cartesian|<point|0|0>|1>|gr-edit-grid-old|<tuple|cartesian|<point|0|0>|1>|gr-auto-crop|true|<graphics||<with|color|blue|arrow-end|\<gtr\>|<line|<point|0|0>|<point|3.0|2.0>>>|<with|color|blue|arrow-end|\<gtr\>|<line|<point|0|0>|<point|4.0|1.0>>>|<with|color|blue|fill-color|cyan|arrow-end|\<gtr\>|<cline|<point|0|0>|<point|4.0|1.0>|<point|3.0|2.0>>>>>|Determinant follow right-hand law.>

    \;
  </example>

  <section|The vector field view of a matrix>

  <folded-comment|+1qB1e5Qj486wk0J|+1qB1e5Qj486wk0K|comment|gao|1768280080||Personally, I prefer the second definition because it is easier to understand. However, I've retained the teacher's version.>

  <\definition>
    A vector field of <math|V> is a mapping from <math|V> to <math|V>.

    A vector field is a function that assigns a vector to each point in a subset of space.\ 
  </definition>

  Intuitively, a vector field attaches a vector to each point in space.

  <\example>
    Velocity of a space can be considered as a vector field, which gives all particles in this space a velocity vector!
  </example>

  <big-figure|<with|gr-mode|<tuple|edit|cline>|gr-frame|<tuple|scale|1cm|<tuple|0.5gw|0.569995gh>>|gr-geometry|<tuple|geometry|1par|0.6par>|gr-grid|<tuple|empty>|gr-edit-grid-aspect|<tuple|<tuple|axes|none>|<tuple|1|none>|<tuple|10|none>>|gr-edit-grid|<tuple|empty>|gr-arrow-end|\<gtr\>|gr-fill-color|cyan|gr-opacity|20%|gr-grid-old|<tuple|cartesian|<point|0|0>|1>|gr-edit-grid-old|<tuple|cartesian|<point|0|0>|1>|gr-auto-crop|true|<graphics||<point|-1.4|1.2>|<point|-1.7|0>|<point|-1.2|-0.6>|<point|0.4|0.3>|<point|0.7|1.5>|<point|-0.7|1>|<point|0.1|0>|<with|arrow-end|\<gtr\>|<line|<point|-1.4|1.2>|<point|-1.7000000000000004|1.0>>>|<with|arrow-end|\<gtr\>|<line|<point|-1.7|0>|<point|-2.0|0.3000000000000001>>>|<with|arrow-end|\<gtr\>|<line|<point|-1.2|-0.6>|<point|-1.0|-0.2>>>|<with|arrow-end|\<gtr\>|<line|<point|-0.7|1>|<point|-0.6000000000000002|0.6>>>|<with|arrow-end|\<gtr\>|<line|<point|0.1|0>|<point|-0.5|0.1999999999999999>>>|<with|fill-color|cyan|arrow-end|\<gtr\>|opacity|20%|<cline|<point|-2.2|1.4>|<point|-2.2|-0.7>|<point|-0.10000000000000019|-0.7>>>>>|>

  <\example>
    A square matrix <math|A\<in\>\<bbb-R\><rsup|n\<times\>n>> can be considered as a vector field by assigning to every point <with|font-series|bold|v> the vector <with|font-shape|italic|A><with|font-series|bold|v> via matrix multiplication! <math|A> is also called <with|font-shape|italic|linear vector field>.
  </example>

  <folded-comment|+2NRENTXD1186G82m|+2NRENTXD1186G82n|comment|gao|1768464198||I'm not sure if "volume" is accurate here.>

  <\definition>
    The divergence of a vector field <math|A> is defined as\ 

    <\equation*>
      div <around*|(|A;volume|)>=<frac|<text|rate of volume change> |volume>
    </equation*>

    which can be used to characterize the degree to which a vector field diverges at each point in space.
  </definition>

  <\theorem>
    Let v(x)=Ax be a linear vector field in R<math|<rsup|3>>, where A is a constant 3\<times\>3 matrix. Then the divergence of the field is constant everywhere, independent of the position x.
  </theorem>

  <\proof>
    Take a point <with|font-shape|italic|P> at <with|font-series|bold|<with|font-shape|italic|x>> and a neighboring point <with|font-shape|italic|P<math|<rsub|1>>> at <with|font-series|bold|<with|font-shape|italic|x>>+<with|font-shape|italic|<with|font-series|bold|d>>, where <with|font-shape|italic|<with|font-series|bold|d>> is infinitesimal.<with|font-series|bold|>

    The velocities are

    <\padded-center>
      <math|v<around*|(|<with|font-series|bold|x>|)>=A<with|font-series|bold|x>,v<around*|(|<with|font-series|bold|x>+<with|font-series|bold|d>|)>=A<with|font-series|bold|x>+A<with|font-series|bold|d>.>
    </padded-center>

    After a short time \<varepsilon\>,\ 

    <\padded-center>
      <math|P\<mapsto\><with|font-series|bold|x>+\<varepsilon\>A<with|font-series|bold|x>,P<rsub|1>\<mapsto\><with|font-series|bold|x>+<with|font-series|bold|d>+\<varepsilon\>A<around*|(|<with|font-series|bold|x>+<with|font-series|bold|d>|)>.>
    </padded-center>

    The new relative vector is

    <\with|par-mode|center>
      <math|d<around*|(|\<varepsilon\>|)>=<with|font-series|bold|d>+\<varepsilon\>A<with|font-series|bold|d>=<around*|(|I+\<varepsilon\>A|)><with|font-series|bold|d>.>
    </with>

    For an infinitesimal volume element spanned by <math|<with|font-series|bold|d<rsub|1>>>,<math|<with|font-series|bold|d<rsub|2>>>,<math|<with|font-series|bold|d<rsub|3>>>,each <math|<with|font-series|bold|d<rsub|i>>> transforms as

    <\with|par-mode|center>
      <math|<with|font-series|bold|d<rsub|i>>\<mapsto\><with|font-series|bold|d<rsub|i>>+\<varepsilon\>A<with|font-series|bold|d<rsub|i>>=><math|<around*|(|I+\<varepsilon\>A|)><with|font-series|bold|d><rsub|i>>.
    </with>

    Thus the volume scales by det(<math|I+\<varepsilon\>A>), which is independent of <math|<with|font-series|bold|x>>.

    Hence the local volume change is the same everywhere.
  </proof>

  <\folded-comment|+1oYzmf2wz7E6F6d|+1oYzmf2wz7E6F6e|comment|Jack Yansong Li|1768221281|>
    <\proof>
      Consider the area spanned by eigenvectors. Consider a very small amont of time <math|\<varepsilon\>>. The length of a eigenvector is <math|1>, after time <math|\<varepsilon\>>, the length is <math|1+\<varepsilon\>\<lambda\>>. The area after time <math|\<varepsilon\>> is\ 

      <\equation*>
        div<around*|(|A|)>=<frac|det<matrix|<tformat|<table|<row|<cell|1+\<varepsilon\>\<lambda\><rsub|1>>|<cell|0>>|<row|<cell|0>|<cell|1+\<varepsilon\>\<lambda\><rsub|2>>>>>>|1>=1+\<varepsilon\><around*|(|\<lambda\><rsub|1>+\<lambda\><rsub|2>|)>+<text|h.o.t>
      </equation*>

      \;
    </proof>
  </folded-comment>

  \;

  <section|The trace of a matrix>

  <folded-comment|+1fGcKRm82VaGqWYA|+1fGcKRm82VaGqWYB|comment|gao|1768355203||I'm not sure whether I should use "proposition" or "theorem" here.>

  <\theorem>
    The magnitude of the trace <math|tr<around*|(|A|)>> of a matrix <math|A> equals to the <with|font-series|bold|divergence> of corresponding linear transformation <math|\<cal-A\>>.

    <\equation*>
      tr<around*|(|A|)>=div<around*|(|\<cal-A\>|)>.
    </equation*>
  </theorem>

  <\proof>
    Consider the volume spanned by unit eigenvectors. Consider a very small amount of time <math|\<varepsilon\>> . The length of a eigenvector is 1,after time <math|\<varepsilon\>> ,the length is <math|1+\<varepsilon\>*\<lambda\>> . The area after time <math|\<varepsilon\>> is\ 

    <\equation*>
      <math-up|div><around*|(|A|)>=<frac|det <around*|(|<tabular*|<tformat|<table|<row|<cell|1+\<varepsilon\>*\<lambda\><rsub|1>>|<cell|0>>|<row|<cell|0>|<cell|1+\<varepsilon\>*\<lambda\><rsub|2>>>>>>|)>|1>=1+\<varepsilon\>*<around*|(|\<lambda\><rsub|1>+\<lambda\><rsub|2>|)>+<text|h.o.t >
    </equation*>
  </proof>

  \;

  \;

  <section|Lie group and Lie algebra>

  <\framed>
    Recall

    <\equation*>
      S<rsup|1>\<triangleq\><around*|{|x<rsub|1><rsup|2>+x<rsub|2><rsup|2>=1\|x\<in\>\<bbb-R\><rsup|2>|}>\<cong\><around*|{|e<rsup|\<mathi\>\<theta\>>\|\<theta\>\<in\><around*|[|0,2\<pi\>|]>|}>\<cong\>SO<around*|(|2|)>\<triangleq\><around*|{|R<rsup|\<top\>>R=I,det<around*|(|R|)>=1|}>
    </equation*>
  </framed>

  <big-figure|<with|gr-mode|<tuple|edit|math-at>|gr-frame|<tuple|scale|1cm|<tuple|0.5gw|0.5gh>>|gr-geometry|<tuple|geometry|1par|0.6par>|gr-grid|<tuple|empty>|gr-edit-grid-aspect|<tuple|<tuple|axes|none>|<tuple|1|none>|<tuple|10|none>>|gr-edit-grid|<tuple|empty>|gr-arrow-end|\<gtr\>|gr-color|dark cyan|gr-grid-old|<tuple|cartesian|<point|0|0>|1>|gr-edit-grid-old|<tuple|cartesian|<point|0|0>|1>|gr-auto-crop|true|<graphics||<with|arrow-end|\<gtr\>|<line|<point|0.10000000000000019|0.0>|<point|4.3|1.4>>>|<with|arrow-end|\<gtr\>|<line|<point|-0.3|-0.4>|<point|-2.6|-2.0>>>|<with|color|blue|arrow-end|\<gtr\>|<line|<point|0.1|0>|<point|2.900000000000001|2.5>>>|<with|color|blue|arrow-end|\<gtr\>|<line|<point|-0.3|-0.4>|<point|-1.0|-2.0>>>|<with|color|dark cyan|arrow-end|\<gtr\>|<spline|<point|2.60942|0.375744>|<point|2.448290117740442|-0.9804537637253605>|<point|0.2595746791903691|-1.0341645720333377>>>|<with|color|dark cyan|<math-at|R|<point|2.68999|-1.30272>>>>>|An example of <math|det<around*|(|R|)>\<less\>0>.>

  \;

  <with|gr-mode|<tuple|edit|line>|gr-frame|<tuple|scale|3.17598cm|<tuple|0.5gw|0.5gh>>|gr-geometry|<tuple|geometry|1par|0.6par>|gr-grid|<tuple|cartesian|<point|0|0>|1>|gr-edit-grid-aspect|<tuple|<tuple|axes|none>|<tuple|1|none>|<tuple|10|none>>|gr-edit-grid|<tuple|cartesian|<point|0|0>|1>|magnify|3.1748021039363987|gr-arrow-end|\<gtr\>|gr-color|blue|<graphics||<point|0|0>|<with|line-width|2ln|<circle|<point|0|0>|<point|0.6000000000000002|-0.8>>>|<with|color|blue|arrow-end|\<gtr\>|<line|<point|1|0>|<point|1.0|0.7439929833018443>>>>>

  <\equation*>
    <with|color|blue|\<mathi\>=<bmatrix|<tformat|<table|<row|<cell|0>>|<row|<cell|1>>>>>>\<in\>T<rsub|e<rsub|1>>S<rsup|1>
  </equation*>

  <\itemize>
    <item><math|\<mathi\>>: velocity

    <item><math|t>: time
  </itemize>

  However <math|\<mathi\>t\<nin\>S<rsup|1>>, but <math|e<rsup|\<mathi\>t>\<in\>S<rsup|1>>!

  <\enumerate>
    <item>Start from <math|p\<in\>S<rsup|1>>. Given a velocity vector <math|v> in tangent space <math|T<rsub|p> S>.

    <item>Run from <math|p> with <math|v> in time <math|t>.

    <item>Using exponential mapping to map <math|v t> back to <math|S<rsup|1>>.
  </enumerate>

  <\definition>
    The tangent space of <math|SO<around*|(|2|)>> is denoted by <math|\<frak-s\>\<frak-o\><around*|(|2|)>>.
  </definition>

  <\idef>
    <math|Exp<rsub|x>:T<rsub|x> \<cal-M\>\<rightarrow\>\<cal-M\>>
  </idef>

  <\definition>
    <math|SO<around*|(|2|)>> is a Lie group, <math|\<frak-s\>\<frak-o\><around*|(|2|)>> is the corresponding Lie algebra.
  </definition>

  <\question>
    What is <math|\<frak-s\>\<frak-o\><around*|(|3|)>>?
  </question>

  <\theorem>
    One representation of <math|\<frak-s\>\<frak-o\><around*|(|3|)>> is the set of skew-symmetric matrices!

    <\equation*>
      \<frak-s\>\<frak-o\><around*|(|3|)>=<around*|{|A=<matrix|<tformat|<table|<row|<cell|0>|<cell|-a<rsub|3>>|<cell|-a<rsub|2>>>|<row|<cell|a<rsub|3>>|<cell|0>|<cell|-a<rsub|1>>>|<row|<cell|a<rsub|2>>|<cell|a<rsub|1>>|<cell|0>>>>><mid|\|><around*|(|a<rsub|1>,a<rsub|2>,a<rsub|3>|)><rsup|\<top\>>\<in\>\<bbb-R\><rsup|3>|}>.
    </equation*>
  </theorem>

  <\proof>
    The most simple element of the Lie group <math|SO<around*|(|3|)>> is <math|I>. Consider an infinitesimal <math|\<varepsilon\>\<gtr\>0>, for <math|A\<in\>\<frak-s\>\<frak-o\><around*|(|3|)>>. Since we only walk a very little distance, we can imagine that <math|I+\<varepsilon\>A> is still on the manifold! Therefore,

    <\equation*>
      <around*|(|I+\<varepsilon\>A|)><rsup|\<top\>><around*|(|I+\<varepsilon\>A|)>=I.
    </equation*>

    By simple algebra

    <\equation*>
      I+\<varepsilon\><around*|(|A<rsup|\<top\>>+A|)>+<text|h.o.t>=I.
    </equation*>

    Thus,

    <\equation*>
      A<rsup|\<top\>>=-A.
    </equation*>

    <unfolded-comment|+1oYzmf2wz7E6F6f|+1oYzmf2wz7E6F6g|comment|Jack Yansong Li|1768223055||Left: Check <math|det<around*|(|I+\<varepsilon\>A|)>=1>>
  </proof>

  <\theorem>
    For <math|<wide|w|^>\<in\>\<frak-s\>\<frak-o\><around*|(|3|)>>, we have <math|w=<around*|(|a<rsub|1>,a<rsub|2>,a<rsub|3>|)><rsup|\<top\>>\<in\>\<bbb-R\><rsup|3>>. The following equality holds

    <\equation*>
      <wide|w|^>x=w\<times\>x,<space|1em>\<forall\>x\<in\>\<bbb-R\><rsup|3>.
    </equation*>
  </theorem>

  <\theorem>
    Define exponential mapping <math|Exp> as

    <\equation>
      Exp<around*|(|<wide|w|^>\<theta\>|)>=e<rsup|<wide|w|^>\<theta\>>=I+<wide|w|^>\<theta\>+<frac|<around*|(|<wide|w|^>\<theta\>|)><rsup|2>|2!>+<frac|<around*|(|<wide|w|^>\<theta\>|)><rsup|3>|3!>+\<cdots\>+\<cdots\><label|eq:def-of-exp>
    </equation>

    <smart-ref|eq:def-of-exp> equals

    <\equation*>
      e<rsup|<wide|w|^>\<theta\>>=I+<wide|w|^> sin \<theta\>+<wide|w|^><rsup|2> <around*|(|1-cos \<theta\>|)>\<in\>SO<around*|(|3|)>.
    </equation*>
  </theorem>

  \;
</body>

<\initial>
  <\collection>
    <associate|info-flag|detailed>
    <associate|page-medium|paper>
    <associate|page-screen-margin|false>
  </collection>
</initial>

<\references>
  <\collection>
    <associate|auto-1|<tuple|1|1>>
    <associate|auto-2|<tuple|1|2>>
    <associate|auto-3|<tuple|2|2>>
    <associate|auto-4|<tuple|2|2>>
    <associate|auto-5|<tuple|3|3>>
    <associate|auto-6|<tuple|4|4>>
    <associate|auto-7|<tuple|3|4>>
    <associate|eq:def-of-exp|<tuple|1|5>>
    <associate|footnote-1|<tuple|1|?>>
    <associate|footnr-1|<tuple|1|?>>
  </collection>
</references>

<\auxiliary>
  <\collection>
    <\associate|figure>
      <tuple|normal|<surround|<hidden-binding|<tuple|auto-2>|1>||Determinant follow right-hand law.>|<pageref|auto-2>>

      <tuple|normal|<surround|<hidden-binding|<tuple|auto-4>|2>||>|<pageref|auto-4>>

      <tuple|normal|<surround|<hidden-binding|<tuple|auto-7>|3>||An example of <with|mode|<quote|math>|det<around*|(|R|)>\<less\>0>.>|<pageref|auto-7>>
    </associate>
    <\associate|toc>
      <vspace*|1fn><with|font-series|<quote|bold>|math-font-series|<quote|bold>|1<space|2spc>The geometric interpretation of the determinant><datoms|<macro|x|<repeat|<arg|x>|<with|font-series|medium|<with|font-size|1|<space|0.05fn>.<space|0.05fn>>>>>|<htab|5mm>><no-break><pageref|auto-1><vspace|0.5fn>

      <vspace*|1fn><with|font-series|<quote|bold>|math-font-series|<quote|bold>|2<space|2spc>The vector field view of a matrix><datoms|<macro|x|<repeat|<arg|x>|<with|font-series|medium|<with|font-size|1|<space|0.05fn>.<space|0.05fn>>>>>|<htab|5mm>><no-break><pageref|auto-3><vspace|0.5fn>

      <vspace*|1fn><with|font-series|<quote|bold>|math-font-series|<quote|bold>|3<space|2spc>The trace of a matrix><datoms|<macro|x|<repeat|<arg|x>|<with|font-series|medium|<with|font-size|1|<space|0.05fn>.<space|0.05fn>>>>>|<htab|5mm>><no-break><pageref|auto-5><vspace|0.5fn>

      <vspace*|1fn><with|font-series|<quote|bold>|math-font-series|<quote|bold>|4<space|2spc>Lie group and Lie algebra><datoms|<macro|x|<repeat|<arg|x>|<with|font-series|medium|<with|font-size|1|<space|0.05fn>.<space|0.05fn>>>>>|<htab|5mm>><no-break><pageref|auto-6><vspace|0.5fn>
    </associate>
  </collection>
</auxiliary>
